var f="ood_config";function i(){return document.getElementById(f).dataset}function l(){let e=i();return Number(e.statusPollDelay)}function u(){return i().statusIndexUrl}function p(e,n){e.innerHTML=n,Array.from(e.querySelectorAll("script")).forEach(o=>{let t=document.createElement("script");Array.from(o.attributes).forEach(c=>{t.setAttribute(c.name,c.value)});let d=document.createTextNode(o.innerHTML);t.appendChild(d),o.parentNode.replaceChild(t,o)})}function a(e){let n=m(e);document.getElementById("main_container").prepend(n),n.scrollIntoView({behavior:"smooth"})}function m(e){let n=document.createElement("span");n.innerText=e;let r=document.createElement("div");return r.classList.add("alert","alert-danger","alert-dismissible"),r.setAttribute("role","alert"),r.appendChild(n),r.appendChild(g()),r}function g(){let e=document.createElement("button");e.classList.add("btn-close"),e.dataset.bsDismiss="alert";let n=document.createElement("span");return n.classList.add("sr-only"),n.innerText="Close",e.appendChild(n),e}function h(e,n){let r=document.getElementById(e);if(r!=null){var o=document.createElement("div");o.innerHTML=n;let t=o.querySelector("template").innerHTML;o.remove(),p(r,t)}}function s(e,n,r,o){fetch(e,{headers:{Accept:"text/vnd.turbo-stream.html"}}).then(t=>t.status==200?Promise.resolve(t):t.status==401?Promise.reject("This page cannot update becase you are no longer authenticated. Please refresh the page to log back in."):Promise.reject(t.text())).then(t=>t.text()).then(t=>h(r,t)).then(()=>{setTimeout(s,n,e,n,r,o),typeof o=="function"&&o()}).catch(t=>{typeof t=="string"?a(t):a("This page has encountered an unexpected error. Please refresh the page."),console.log(t)})}jQuery(()=>{s(u(),l(),"system-status")});
//# sourceMappingURL=system_status.js.map
