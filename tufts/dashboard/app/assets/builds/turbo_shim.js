function c(t,n){t.innerHTML=n,Array.from(t.querySelectorAll("script")).forEach(o=>{let e=document.createElement("script");Array.from(o.attributes).forEach(s=>{e.setAttribute(s.name,s.value)});let i=document.createTextNode(o.innerHTML);e.appendChild(i),o.parentNode.replaceChild(e,o)})}function a(t){let n=l(t);document.getElementById("main_container").prepend(n),n.scrollIntoView({behavior:"smooth"})}function l(t){let n=document.createElement("span");n.innerText=t;let r=document.createElement("div");return r.classList.add("alert","alert-danger","alert-dismissible"),r.setAttribute("role","alert"),r.appendChild(n),r.appendChild(u()),r}function u(){let t=document.createElement("button");t.classList.add("btn-close"),t.dataset.bsDismiss="alert";let n=document.createElement("span");return n.classList.add("sr-only"),n.innerText="Close",t.appendChild(n),t}function p(t,n){let r=document.getElementById(t);if(r!=null){var o=document.createElement("div");o.innerHTML=n;let e=o.querySelector("template").innerHTML;o.remove(),c(r,e)}}function d(t,n,r,o){fetch(t,{headers:{Accept:"text/vnd.turbo-stream.html"}}).then(e=>e.status==200?Promise.resolve(e):e.status==401?Promise.reject("This page cannot update becase you are no longer authenticated. Please refresh the page to log back in."):Promise.reject(e.text())).then(e=>e.text()).then(e=>p(r,e)).then(()=>{setTimeout(d,n,t,n,r,o),typeof o=="function"&&o()}).catch(e=>{typeof e=="string"?a(e):a("This page has encountered an unexpected error. Please refresh the page."),console.log(e)})}export{d as pollAndReplace,p as replaceHTML};
//# sourceMappingURL=turbo_shim.js.map
