{
  "version": 3,
  "sources": ["../../../javascript/prefill_templates/prefill_templates.js"],
  "sourcesContent": ["'use strict';\n\nconst bcPrefix = 'batch_connect_session_context';\nconst templateSelectId = 'batch_connect_session_prefill_template';\n\nexport function prefillTemplatesHandler() {\n  const picker = $(`#${templateSelectId}`);\n  if (picker.length == 0) { return; }\n\n  picker.on('change', function () {\n    const templateOption = $(`#${templateSelectId} option:selected`);\n    if (!templateOption.val()) { return; }\n\n    let json;\n    try {\n      json = JSON.parse(templateOption.val());\n    } catch (error) {\n      $('#batch_connect_session_template_form_error_modal').text(error.message)\n      $('#batch_connect_session_template_form_error_modal_body').modal('show');\n      return;\n    }\n\n    let errorMsg = '';\n    for (const [key, value] of Object.entries(json)) {\n      let element = $(`#${bcPrefix}_${key}`);\n\n      if (element.length == 0) {\n        // For radio buttons\n        if (/^\\d+$/.test(value)) {\n          element = $(`#${bcPrefix}_${key}_${value}`);\n        } else {\n          continue;\n        }\n      }\n\n      if (element.is('select') && value !== '') {\n        // Ensure that the option exists\n        if (element.find(`option[value=\"${value}\"]`).length == 0) {\n          errorMsg += `Invalid value: \"${value}\" for the field \"${key}\".<br>`;\n          continue;\n        }\n      }\n\n      switch (element.attr('type')) {\n        case \"checkbox\":\n          value === \"1\" ? element.prop('checked', true) : element.prop('checked', false);\n          break;\n\n        case \"radio\":\n          element.filter(`[value=\"${value}\"]`).prop('checked', true);\n\n        default:\n          element.val(value);\n          break;\n      }\n      element.trigger('change');\n    }\n\n    if (errorMsg) {\n      $('#batch_connect_session_template_form_error_modal_body').html(errorMsg)\n      $('#batch_connect_session_template_form_error_modal').modal('show');\n    }\n  });\n}\n"],
  "mappings": "AAEA,IAAMA,EAAW,gCACXC,EAAmB,yCAElB,SAASC,GAA0B,CACxC,IAAMC,EAAS,EAAE,IAAIF,GAAkB,EACnCE,EAAO,QAAU,GAErBA,EAAO,GAAG,SAAU,UAAY,CAC9B,IAAMC,EAAiB,EAAE,IAAIH,mBAAkC,EAC/D,GAAI,CAACG,EAAe,IAAI,EAAK,OAE7B,IAAIC,EACJ,GAAI,CACFA,EAAO,KAAK,MAAMD,EAAe,IAAI,CAAC,CACxC,OAASE,EAAP,CACA,EAAE,kDAAkD,EAAE,KAAKA,EAAM,OAAO,EACxE,EAAE,uDAAuD,EAAE,MAAM,MAAM,EACvE,MACF,CAEA,IAAIC,EAAW,GACf,OAAW,CAACC,EAAKC,CAAK,IAAK,OAAO,QAAQJ,CAAI,EAAG,CAC/C,IAAIK,EAAU,EAAE,IAAIV,KAAYQ,GAAK,EAErC,GAAIE,EAAQ,QAAU,EAEpB,GAAI,QAAQ,KAAKD,CAAK,EACpBC,EAAU,EAAE,IAAIV,KAAYQ,KAAOC,GAAO,MAE1C,UAIJ,GAAIC,EAAQ,GAAG,QAAQ,GAAKD,IAAU,IAEhCC,EAAQ,KAAK,iBAAiBD,KAAS,EAAE,QAAU,EAAG,CACxDF,GAAY,mBAAmBE,qBAAyBD,UACxD,QACF,CAGF,OAAQE,EAAQ,KAAK,MAAM,OACpB,WACHD,IAAU,IAAMC,EAAQ,KAAK,UAAW,EAAI,EAAIA,EAAQ,KAAK,UAAW,EAAK,EAC7E,UAEG,QACHA,EAAQ,OAAO,WAAWD,KAAS,EAAE,KAAK,UAAW,EAAI,UAGzDC,EAAQ,IAAID,CAAK,EACjB,MAEJC,EAAQ,QAAQ,QAAQ,CAC1B,CAEIH,IACF,EAAE,uDAAuD,EAAE,KAAKA,CAAQ,EACxE,EAAE,kDAAkD,EAAE,MAAM,MAAM,EAEtE,CAAC,CACH",
  "names": ["bcPrefix", "templateSelectId", "prefillTemplatesHandler", "picker", "templateOption", "json", "error", "errorMsg", "key", "value", "element"]
}
